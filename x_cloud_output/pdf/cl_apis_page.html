<div class="post-header">
    <h1 class="post-title-main" id="cl_apis_page.html">Page API</h1>
</div>

<div class="post-content">

    
    <div class="summary">The Pages API provides methods for reading and updating information about the pages for a given user's site.</div>
    
    <!--TODO: move to md and remove all styling-->

<h2> Fields </h2>
<p>The following table shows all fields that exist for this API, those that are returned when you retrieve a list, and those that are changeable using <code>PATCH</code>. All fields are returned when you retrieve a single item.</p>
<!-- TODO: style table head and table -->
<table>
<tr>
<td><div class="paragraph">Name</div></td>
          <td><div class="paragraph">Description</div></td>
          <td><div class="paragraph">Type</div></td>
          <td><div class="paragraph">List</div></td>
          <td><div class="paragraph">Change-able</div></td>
      </tr>
<tr>
<td><div class="paragraph">​<code>page_id</code>
</div></td>
          <td><div class="paragraph">The unique ID of a page</div></td>
          <td><div class="paragraph">string</div></td>
          <td><div class="paragraph" style="text-align:center;">X</div></td>
          <td><div class="paragraph"></div></td>
      </tr>
<tr>
<td><div class="paragraph"><code>title</code></div></td>
          <td><div class="paragraph">The title of a given page</div></td>
          <td><div class="paragraph">string</div></td>
          <td><div class="paragraph" style="text-align:center;">X</div></td>
          <td><div class="paragraph" style="text-align:center;">X</div></td>
      </tr>
<tr>
<td><div class="paragraph"><code>page_order</code></div></td>
          <td><div class="paragraph">Where this page appears in its of pages, as configured on the Pages tab of the editor. For example:<br />​<br />
             <font size="2">
             Home - page_order 1<br />
             &nbsp;&nbsp;&nbsp;HomeSubPage - page_order 1<br />
             &nbsp;&nbsp;&nbsp;HomeSubPage - page_order 2<br />
             About - page_order 2<br />
             &nbsp;&nbsp;&nbsp;AboutSubPage - page_order 1<br />
             Contact - page_order 3<br />
             &nbsp;&nbsp;&nbsp;ContactSubPage - page_order 1&gt;<br /><br />
         </font>
             <font size="3">You can determine the hierarchy using the <code>parent_id</code> for the page.</font>
</div></td>
          <td><div class="paragraph">integer</div></td>
          <td><div class="paragraph" style="text-align:center;">X</div></td>
          <td><div class="paragraph"></div></td>
      </tr>
<tr>
<td><div class="paragraph"><code>page_url</code></div></td>
          <td><div class="paragraph">Relative URL for the page. You can get the domain from the Site API </div></td>
          <td><div class="paragraph">string</div></td>
          <td><div class="paragraph" style="text-align:center;">X</div></td>
          <td><div class="paragraph"></div></td>
      </tr>
<tr>
<td><div class="paragraph"><code>parent_id</code></div></td>
          <td><div class="paragraph">​The <code>page_id</code> of the page one level up in the navigation hierarchy. If there is no parent, nothing is returned.</div></td>
          <td><div class="paragraph">string</div></td>
          <td><div class="paragraph" style="text-align:center;">X</div></td>
          <td><div class="paragraph"></div></td>
      </tr>
<tr>
<td><div class="paragraph"><code>layout</code></div></td>
          <td><div class="paragraph">The layout header used for the page. Valid values are:<ul>
<li>short-header</li>
<li>tall-header</li>
<li>no-header</li>
</ul>
</div></td>
          <td><div class="paragraph">string</div></td>
          <td><div class="paragraph" style="text-align:center;">X</div></td>
          <td><div class="paragraph"></div></td>
      </tr>
<tr>
<td><div class="paragraph"><code>hidden</code></div></td>
          <td><div class="paragraph">Whether or not the page is hidden from the site's navigation. <br />Valid values are:<ul>
<li>​true</li>
<li>false</li>
</ul>
</div></td>
          <td><div class="paragraph">boolean</div></td>
          <td><div class="paragraph"></div></td>
          <td><div class="paragraph"></div></td>
      </tr>
<tr>
<td><div class="paragraph"><code>membership_<br />​required</code></div></td>
          <td><div class="paragraph">Whether or not the page requires site <a href="/membership-api.html">membership</a> in order to be viewed. <br />Valid values are:<ul>
<li>true</li>
<li>false</li>
</ul>
</div></td>
          <td><div class="paragraph">boolean</div></td>
          <td><div class="paragraph"></div></td>
          <td><div class="paragraph"></div></td>
      </tr>
<tr>
<td><div class="paragraph"><code>updated_date</code></div></td>
          <td><div class="paragraph">When the page was last updated.</div></td>
          <td><div class="paragraph">​​​Unix timestamp in GMT</div></td>
          <td><div class="paragraph"> </div></td>
          <td><div class="paragraph"> </div></td>
      </tr>
</table>
<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Any fields returned that are not documented are currently unsupported and can be safely ignored.</div>

<h2>Retrieve a List of Pages for a Given Site</h2>
<p class="codeTitle">Enpoint URL:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">GET /user/USER_ID/site/<span class="o">{</span>SITE_ID<span class="o">}</span>/page</code></pre></figure>

<p>Returns all pages for the given site. Only list fields are returned.
    

<h3>Query Paramters</h3>
<p>Returned values are paginated. You can further filter results using these parameters</p>
<table>
<tr>
<td><div class="paragraph">Parameter</div></td>
          <td><div class="paragraph">Description</div></td>
          <td><div class="paragraph">Type</div></td>
      </tr>
<tr>
<td><div class="paragraph"><strong>page</strong></div></td>
          <td><div class="paragraph">Which page of results to return. Start is 1.<br /><br /><em><font color="#24678d"><strong>Note</strong>: Only the first 25 results are returned by default. If the result set is expected to be over 25, you must implement pagination.</font></em>
</div></td>
          <td><div class="paragraph">integer</div></td>
      </tr>
<tr>
<td><div class="paragraph"><strong>limit</strong></div></td>
          <td><div class="paragraph">Number of results per page to return. Default is 25. <br />Max is 200.</div></td>
          <td><div class="paragraph">integer</div></td>
      </tr>
<tr>
<td><div class="paragraph"><strong>query</strong></div></td>
          <td><div class="paragraph">Use to retrieve only pages that have a full-text match with the query string.</div></td>
          <td><div class="paragraph">string</div></td>
      </tr>
<tr>
<td><div class="paragraph"><strong>filterby</strong></div></td>
          <td><div class="paragraph">Field name to set a filter on. Valid values are:<ul>
<li>page_id</li>
<li>title</li>
<li>layout</li>
</ul>
</div></td>
          <td><div class="paragraph">string</div></td>
      </tr>
<tr>
<td><div class="paragraph"><strong>filterfor</strong></div></td>
          <td><div class="paragraph">​Value to search the filterby field for. </div></td>
          <td><div class="paragraph">string</div></td>
      </tr>
<tr>
<td><div class="paragraph"><strong>sortby</strong></div></td>
          <td><div class="paragraph">Field name to sort by</div></td>
          <td><div class="paragraph">string</div></td>
      </tr>
<tr>
<td><div class="paragraph"><strong>sortdir</strong></div></td>
          <td><div class="paragraph">Sort direction. Valid values are:<ul>
<li>asc</li>
<li>desc</li>
</ul>
</div></td>
          <td><div class="paragraph">string</div></td>
      </tr>
</table>

<p class="codeTitle">Example CURL request returning all pages:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/user/USER_ID/site/SITE_ID/page <span class="se">\</span>
 -H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
 -H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>


<p class="codeTitle">Example filtered request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/user/USER_ID/site/SITE_ID/page?filterby<span class="o">=</span>layout&amp;filterfor<span class="o">=</span>tall-header <span class="se">\</span>
 -H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
 -H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>


<p class="codeTitle">Example response:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"page_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"131221993403487092"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"205694454183612584"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"layout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tall-header"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new.html"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"page_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"205694454183612584"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blog"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"layout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tall-header"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blog1.html"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"page_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"267240304658043510"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"members only"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"layout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tall-header"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"members-only.html"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>


</p>

</div>
