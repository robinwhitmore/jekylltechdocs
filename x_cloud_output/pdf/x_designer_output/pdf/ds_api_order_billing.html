<div class="post-header">
    <h1 class="post-title-main" id="ds_api_order_billing.html">Order Billing API</h1>
</div>

<div class="post-content">

    
    <div class="summary">Use the Order Billing API to retrieve payment information like billing address or payment provider for payments against an order.</div>
    
    <p>An Order Billing represents information given to a payment provider for an order. For example, it contains the name, billing address, and email that the customer entered as their billing information. An order can have more than one billing when more than one payment method was used. Billings have one or more <a href="ds_api_order_billing_transaction.html">transactions</a> that represent the money paid for the order.</p>

<p>Use the Order Billings API to retrieve payment information like billing address or payment provider for payments against an order.</p>

<h2>Fields</h2>

<p>The following table shows all fields that exist for this API and those that are returned when you retrieve a list. All fields are returned when you retrieve a single item.</p>
<table>
    <tbody>
    <tr>
        <td><strong>Name</strong></td>
        <td><strong>Description</strong></td>
        <td><strong>Type</strong></td>
        <td><strong>List</strong></td>
    </tr>
    <tr>
        <td>​<code>user_id</code></td>
        <td>The unique ID of the authenticated user</td>
        <td>string</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>site_id</code></td>
        <td>ID of a Weebly site, unique to the currently authenticated user​</td>
        <td>string</td>
        <td>X</td>
    </tr>

    <tr>
        <td><code>order_id</code></td>
        <td>​The unique order ID (within the store) of the <a href="ds_api_order.html">order</a>.</td>
        <td>string</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>order_billing_id</code></td>
        <td>The unique billing ID (within the order) of the billing.</td>
        <td>integer</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>gateway</code></td>
        <td>The payment provider used for this billing.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>full_name</code></td>
        <td>Customer's full name.</td>
        <td>string</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>email</code></td>
        <td>Customer's email.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>phone</code></td>
        <td>Customer's phone.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>business_name</code></td>
        <td>Business name of the customer, if used.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>street</code></td>
        <td>Billing street address entered by customer.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>street2</code></td>
        <td>Second line of billing street address, if used.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>city</code></td>
        <td>Billing city entered by customer.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>region</code></td>
        <td>Billing state or region entered by customer.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>country</code></td>
        <td>Billing country entered by customer.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>postal_code</code></td>
        <td>Billing postal code entered by customer</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>transactions</code></td>
        <td>An array of <a href="ds_api_order_billing_transaction.html">billing transactions</a>.</td>
        <td>array</td>
        <td></td>
    </tr>
    <tr>
        <td><code>created_date</code></td>
        <td>Date the billing was created.</td>
        <td>Unix GMT Timestamp</td>
        <td></td>
    </tr>
    <tr>
        <td><code>updated_date</code></td>
        <td>Date the billing was last updated.</td>
        <td>Unix GMT Timestamp</td>
        <td></td>
    </tr>
    </tbody>
</table>
<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Any fields returned that are not documented are currently unsupported and can be safely ignored.</div>

<h2>
<div class="Tag type_info">GET</div>

 Retrieve a List of Billings for an Order
</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">GET /user/USER_ID/site/<span class="o">{</span>SITE_ID<span class="o">}</span>/store/order/<span class="o">{</span>ORDER_ID<span class="o">}</span>/billing</code></pre></figure>

<p>Returns all billings for the given order. Only <code class="highlighter-rouge">list</code> fields are returned.</p>

<p class="codeTitle">Example CURL request returning billings:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/user/123456/site/987654321/store/order/456789/billing <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_billing_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_billing_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<h2>
<div class="Tag type_info">GET</div>

 Retrieve the Number of Billings for an Order
</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">GET /user/USER_ID/site/<span class="o">{</span>SITE_ID<span class="o">}</span>/store/order/<span class="o">{</span>ORDER_ID<span class="o">}</span>/billing/count</code></pre></figure>

<p>Returns the number of billings for an order.</p>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/user/123456/site/987654321/store/order/456789/billing/count <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<h2>
<div class="Tag type_info">GET</div>

 Retrieve Details for an Order's Billing
</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">GET /user/USER_ID/site/<span class="o">{</span>SITE_ID<span class="o">}</span>/store/order/<span class="o">{</span>ORDER_ID<span class="o">}</span>/billing/<span class="o">{</span>ORDER_BILLING_ID<span class="o">}</span></code></pre></figure>

<p>Returns all fields for the given billing.</p>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/user/123456/site/987654321/store/order/456789/billing/1 <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>
<p>See Fields table. All fields for the billing are returned.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456789"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_billing_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stripe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"460 Bryant St."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"street2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94107"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1443389596</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1443389596</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45678"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"order_billing_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"order_billing_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"purchase"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tx_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tx_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ch_16pmlkKRCoO7IeaFIw1qsH4p"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tx_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction approved"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cc_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cc_last_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1443389596</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1443389596</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre></figure>


</div>
