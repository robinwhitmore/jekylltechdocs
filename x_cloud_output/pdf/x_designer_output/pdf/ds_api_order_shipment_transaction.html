<div class="post-header">
    <h1 class="post-title-main" id="ds_api_order_shipment_transaction.html">Order Shipment Transaction API</h1>
</div>

<div class="post-content">

    
    <div class="summary">​Use the Order Shipment Transaction API to retrieve the shipment transactions for an order.</div>
    
    <p>Shipment transactions happen when the status of the shipment changes. For example, when a shipment goes from <code>label_created</code> to <code>shipped</code>, a transaction occurs.</p>

<p>​Use the Order Shipment Transactions API to retrieve the shipment transactions for an order.</p>

<h2>Fields</h2>

<p>The following table shows all fields that exist for this API and those that are returned when you retrieve a list. All fields are returned when you retrieve a single item.</p>
<table>
    <tbody>
    <tr>
        <td><strong>Name</strong></td>
        <td><strong>Description</strong></td>
        <td><strong>Type</strong></td>
        <td><strong>List</strong></td>
    </tr>
    <tr>
        <td>​<code>user_id</code></td>
        <td>The unique ID of the authenticated user</td>
        <td>string</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>site_id</code></td>
        <td>ID of a Weebly site, unique to the currently authenticated user​</td>
        <td>string</td>
        <td>X</td>
    </tr>

    <tr>
        <td><code>order_id</code></td>
        <td>The unique order ID (within the store) of the <a href="ds_api_order.html">order</a>.</td>
        <td>string</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>order_shipment_id</code></td>
        <td>The unique ID (within the order) of the <a href="ds_api_order_shipment.html">shipment</a>.</td>
        <td>integer</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>order_shipment_transaction_id</code></td>
        <td>An incrementing ID unique to this shipment.</td>
        <td>integer</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>tx_id</code></td>
        <td>ID for this transaction</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>tx_type</code></td>
        <td>Shipping method (as defined by the <a href="https://hc.weebly.com/hc/en-us/articles/226811948-Set-Up-Shipping-Areas-and-Rates">merchant</a>) used for this transaction, for example <code>UPS</code>.</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>tx_date</code></td>
        <td>Date the transaction was created.</td>
        <td>​Unix timestamp in GMT</td>
        <td></td>
    </tr>
    <tr>
        <td><code>tx_status</code></td>
        <td>Status for this transaction.<br />
            Valid values are:
            <ul>
                <li><code>label_created</code></li>
                <li><code>label_returned</code></li>
                <li><code>shipped</code></li>
            </ul>
        </td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>created_date</code></td>
        <td>Date the transaction was created.</td>
        <td>Unix GMT Timestamp</td>
        <td></td>
    </tr>
    <tr>
        <td><code>updated_date</code></td>
        <td>Date the transaction was last updated.</td>
        <td>Unix GMT Timestamp</td>
        <td></td>
    </tr>
    </tbody>
</table>
<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Any fields returned that are not documented are currently unsupported and can be safely ignored.</div>

<h2>
<div class="Tag type_info">GET</div>

 Retrieve a List of Shipment Transactions</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">GET /user/USER_ID/site/<span class="o">{</span>SITE_ID<span class="o">}</span>/store/order/<span class="o">{</span>ORDER_ID<span class="o">}</span>/shipment/<span class="o">{</span>ORDER_SHIPMENT_ID<span class="o">}</span>/transaction</code></pre></figure>

<p>Returns all transactions for the given shipment. Only <code class="highlighter-rouge">list</code> fields are returned.</p>

<p class="codeTitle">Example CURL request returning all shipment transactions:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/user/123456/site/987654321/store/order/456789/shipment/1/transaction <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_shipment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_shipment_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_shipment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_shipment_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_shipment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_shipment_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_shipment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_shipment_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<h2>
<div class="Tag type_info">GET</div>

 Retrieve the Number of Transactions for a Shipment
</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">GET /user/USER_ID/site/<span class="o">{</span>SITE_ID<span class="o">}</span>/store/order/<span class="o">{</span>ORDER_ID<span class="o">}</span>/shipment/<span class="o">{</span>ORDER_SHIPMENT_ID<span class="o">}</span>/transaction/count</code></pre></figure>

<p>Returns the number of transactions for a shipment.</p>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/user/123456/site/987654321/store/order/456789/shipment/1/transaction/count <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<h2>
<div class="Tag type_info">GET</div>

 Retrieve Details for a Shipment Transaction
</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">GET /user/USER_ID/site/<span class="o">{</span>SITE_ID<span class="o">}</span>/store/order/<span class="o">{</span>ORDER_ID<span class="o">}</span>/shipment/<span class="o">{</span>ORDER_SHIPMENTS_ID<span class="o">}</span>/transaction/<span class="o">{</span>ORDER_SHIPMENT_TRANSACTION_ID<span class="o">}</span></code></pre></figure>

<p>Returns all fields for the given shipment transaction.</p>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/user/123456/site/987654321/store/order/45678/shipment/1/transaction/2 <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>
<p>See Fields table. All fields for the shipment transaction are returned.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45678"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_shipment_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_shipment_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tx_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123331"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tx_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USPS"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tx_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1443548303</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tx_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"label_returned"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1443548303</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1443548303</span><span class="w">
</span><span class="p">}</span></code></pre></figure>


</div>
