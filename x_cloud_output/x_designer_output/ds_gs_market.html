<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="When a user publishes their site, the Weebly Editor displays a modal. You can customize this modal window by supplying a URL to other content.">
<meta name="keywords" content="getting_startedsites,  sites, publish, publish modal">
<title>Market to Your Customers in Weebly | Weebly Cloud for Designers Documentation</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- <link rel="alternate" type="application/rss+xml" title="" href="robinwhitmore.github.iofeed.xml"> -->

<script type="text/javascript">
    $(document).ready(function() {

        /*Bootstrap popovers are initialized with the following script. In the options, I'm setting the placement to be on the right, the trigger to be hover rather than click, and to allow HTML from the JSON data source. */

        $('[data-toggle="popover"]').popover({
            placement: 'top',
            trigger: 'hover',
            html: true
        });
    })
</script>
    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="fa fa-home fa-lg navbar-brand" href="home.html">&nbsp;<span class="projectTitle">
                Weebly Cloud for Designers</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="home.html">Get Started</a></li>
                
                
                
                <li><a href="ds_apps_gs.html">Custom Apps</a></li>
                
                
                
                <li><a href="ds_tags_about.html">Tags</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:rwhitmore@weebly.com?subject=Weebly Cloud for Designers Docs feedback&body=I have some feedback about the Market to Your Customers in Weebly page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="Search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Market to Your Customers in Weebly">{title}</a></li>',
                    noResultsText: 'No results',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          










<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">Weebly Cloud </li>
    
    
    
        
    
    <li>
        <a href="#">Get Started</a>
        <ul>
            
            
            
            <li><a href="home.html">Get Started with Weebly Cloud</a></li>
            
            
            
            
            
            
            <li><a href="ds_gs_checklist.html">Get Started Checklist</a></li>
            
            
            
            
            
            
            <li><a href="ds_gs_configure.html">Configure Weebly Cloud</a></li>
            
            
            
            
            
            
            <li><a href="ds_gs_team_members.html">Create Team Members</a></li>
            
            
            
            
            
            
            <li><a href="ds_gs_plans.html">Create Plans</a></li>
            
            
            
            
            
            
            <li><a href="ds_gs_apps.html">Provide Apps to Your Customers</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Create and Manage Clients and Sites</a>
        <ul>
            
            
            
            <li><a href="ds_gs_clients.html">Create and Manage Clients</a></li>
            
            
            
            
            
            
            <li><a href="ds_gs_cr_sites.html">Create and Manage Sites</a></li>
            
            
            
            
            
            
            <li><a href="ds_gs_bld_sites.html">Build Sites</a></li>
            
            
            
            
            
            
            <li><a href="ds_gs_access_sites.html">Give Clients and Team Members Site Access</a></li>
            
            
            
            
            
            
            <li class="active"><a href="ds_gs_market.html">Market to Your Customers in Weebly</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Billing and Invoicing</a>
        <ul>
            
            
            
            <li><a href="ds_gs_invoice.html">View and Pay Weebly Invoices</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div>
    <div class="pageType">  concepts  task </div>
    <div class="post-header">
        <h1 class="post-title-main">Market to Your Customers in Weebly</h1>
    </div>
</div>




<div class="post-content">

   
    <div class="summary">When a user publishes their site, the Weebly Editor displays a modal. You can customize this modal window by supplying a URL to other content.</div>
   



    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 50);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

  <h2 id="about-the-publish-modal">About the Publish Modal</h2>

<p>When a user publishes a site, the Weebly editor displays a publishing modal. It displays a link to the site just published, and often Weebly displays promotional material as well.</p>
<figure><img class="docimage" src="images/cl_promoModal.png" alt="" /><figcaption>Publish modal in the Weebly Editor</figcaption></figure>

<p>You can use this modal window to advertise your own services by setting the publish_upsell_url to a URL where you have content published. That content loads in an iframe (640px W by 200px H) when a site is published. Here’s an example of custom content in the modal (the yellow background is for demonstration purposes only).</p>
<figure><img class="docimage" src="images/cl_upsell_custom.png" alt="" /><figcaption>Custom content in the Publish modal</figcaption></figure>

<p>Because the <code class="highlighter-rouge">site_ID</code> and <code class="highlighter-rouge">user_ID</code> are passed into the upsell URL, you can dynamically override the content to display based on the user and site being published.
 Clients are accessed using their <code class="highlighter-rouge">user_id</code>. <!--todo: is this true?-->
Here’s an example URL in the iframe:</p>
<p class="codeTitle">Example Publish Modal URL:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">iframe src="http://your-url.com/upsell.php?user_id=1234567<span class="err">&amp;</span>site_id=1234567891011234"
style="width:100%; height:200px; margin-top:20px; overflow-x:hidden; border:none;"</code></pre></figure>

<h2 id="customize-the-publish-modal">Customize the Publish Modal</h2>
<p>Before you can configure Weebly Cloud to use custom content in the Publish modal, you need to create it on a site that can be accessed. You can set the URL in the Cloud Admin or if you want different content displayed based on the site or user, you can set it dynamically using the Site or Account API.</p>

<p><strong>To set the URL in the Cloud Admin:</strong></p>
<ol>
  <li>Create your custom content at a URL that can be accessed by the modal.</li>
  <li>From the <strong>Settings</strong> page of the Cloud Admin, in the Configuration area, click the <strong>Edit</strong> icon for the <strong>Upsell URL</strong>.
    <figure><img class="docimage" src="images/cl_upsellURL.png" alt="" /><figcaption>Upsell URL on the Settings page in the Cloud Admin</figcaption></figure>
  </li>
  <li>Enter the URL to your custom content.</li>
</ol>

<p><strong>To set the URL dyanmically using the API:</strong></p>

<p>Use the <code class="highlighter-rouge">PATCH</code> request from the Account API if you want all sites for an account to see the same content, or from the Site API if you want content to be based on the site being published. <!--todo: add links--></p>

<p>Here’s a example:</p>
<p class="codeTitle">Example CURL Request for Publish Upsell URL:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl https://api.weeblycloud.com/user/USER_ID/site/SITE_ID <span class="se">\</span>
-X PATCH <span class="se">\</span>
-d <span class="s1">'{
"publish_upsell_url": "http://www.brand.com/upsell.html"
}'</span> <span class="se">\</span>
-H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_getting_started.html" class="btn btn-default navbar-btn cursorNorm" role="button">getting_started</a>
        
        
        
        <a href="tag_sites.html" class="btn btn-default navbar-btn cursorNorm" role="button">sites</a>
        
        
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Weebly. All rights reserved. <br />
 Site last generated: Aug 24, 2017 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

</html>